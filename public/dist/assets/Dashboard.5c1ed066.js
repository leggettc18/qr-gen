import{d as v,o as O,b as T,e as y,r as w,f as i,g as u,i as e,j as b,w as S,v as U,k as n,l as d,n as _,u as t,T as A,m as g,L,p as N,q as x,t as V,s as z,x as F,y as H,z as G,F as j,H as P,A as Q}from"./vendor.20269374.js";import{h as f}from"./index.m.dcd4371a.js";import{r as I}from"./QrcodeIcon.55c08083.js";import{_ as M,a as B}from"./Label.3cd0d19c.js";import{i as R,r as J,_ as D}from"./DebouncedInput.cb04fe92.js";import{_ as q}from"./Button.da9c5da0.js";const K={class:"relative"},W=v({props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:()=>["py-1","bg-white"]}},setup(a){const s=a,o=m=>{r.value&&m.key==="Escape"&&(r.value=!1)};O(()=>document.addEventListener("keydown",o)),T(()=>document.removeEventListener("keydown",o));const l=y(()=>({"48":"w-48"})[s.width.toString()]),c=y(()=>s.align==="left"?"origin-top-left left-0":s.align==="right"?"origin-top-right right-0":"origin-top"),r=w(!1);return(m,h)=>(i(),u("div",K,[e("div",{onClick:h[0]||(h[0]=$=>r.value=!r.value)},[b(m.$slots,"trigger")]),S(e("div",{class:"fixed inset-0 z-40",onClick:h[1]||(h[1]=$=>r.value=!1)},null,512),[[U,r.value]]),n(A,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:d(()=>[S(e("div",{class:_(["absolute z-50 mt-2 rounded-md shadow-lg",[t(l),t(c)]]),style:{display:"none"},onClick:h[2]||(h[2]=$=>r.value=!1)},[e("div",{class:_(["rounded-md ring-1 ring-black ring-opacity-5",a.contentClasses])},[b(m.$slots,"content")],2)],2),[[U,r.value]])]),_:3})]))}}),X=v({setup(a){return(s,o)=>(i(),g(t(L),{href:"",class:"block w-full px-4 py-2 text-left text-sm leading-5 text-zinc-700 hover:bg-zinc-100 focus:outline-none focus:bg-zinc-100 transition duration-150 ease-in-out"},{default:d(()=>[b(s.$slots,"default")]),_:3}))}}),Y=v({props:["href","active"],setup(a){const s=a,o=y(()=>s.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 dark:border-gray-400 text-sm font-medium leading-5 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-indigo-700 dark:focus:border-gray-200 dark:focus:bg-zinc-600 transition  duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-zinc-500 hover:text-zinc-700 hover:border-gray-300 focus:outline-none focus:text-zinc-700 focus:border-gray-300 transition duration-150 ease-in-out");return(l,c)=>(i(),g(t(L),{href:a.href,class:_(t(o))},{default:d(()=>[b(l.$slots,"default")]),_:3},8,["href","class"]))}}),E=v({props:["href","active"],setup(a){const s=a,o=y(()=>s.active?"block pl-3 pr-4 py-2 border-l-4 border-indigo-400 dark:border-gray-500 text-base font-medium text-indigo-700 dark:text-zinc-50 bg-indigo-50 dark:bg-zinc-700 focus:outline-none focus:text-indigo-800 dark:focus:text-zinc-700 focus:bg-indigo-100 dark:focus:bg-zinc-200 focus:border-indigo-700 dark:focus:border-gray-500 transition duration-150 ease-in-out":"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-zinc-600 hover:text-zinc-800 dark:hover:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 hover:border-gray-300 focus:outline-none focus:text-zinc-800 dark:focus:text-zinc-200 focus:bg-zinc-50 dark:focus:bg-zinc-700 dark:text-zinc-300 focus:border-gray-300 dark:focus:border-gray-500 transition duration-150 ease-in-out");return(l,c)=>(i(),g(t(L),{href:a.href,class:_(t(o))},{default:d(()=>[b(l.$slots,"default")]),_:3},8,["href","class"]))}});function Z(a,s){return i(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})])}function ee(a,s){return i(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})])}const te={class:"min-h-screen"},se={class:"bg-white dark:bg-zinc-900 border-b border-gray-100 dark:border-gray-800"},oe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ne={class:"flex justify-between h-16"},re={class:"flex"},ae={class:"shrink-0 flex items-center"},ie={class:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex"},le=x("Dashboard"),de={class:"hidden sm:flex sm:items-center sm:ml-6"},ce={class:"ml-3 relative"},ue={class:"inline-flex rounded-md"},me={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-zinc-500 bg-white dark:bg-zinc-800 hover:text-zinc-700 focus:outline-none transition ease-in-out duration-150"},fe=e("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),he=x("Log Out"),pe={class:"-mr-2 flex items-center sm:hidden"},ve={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},_e={class:"pt-2 pb-3 space-y-1"},be=x("Dashboard"),ge={class:"pt-4 pb-1 border-t border-gray-200 dark:border-gray-800"},xe={class:"px-4"},ke={class:"font-medium text-base text-zinc-800 dark:text-zinc-500"},ye={class:"font-medium text-sm text-zinc-500 dark:text-zinc-400"},we={class:"mt-3 space-y-1"},ze=x("Log Out"),$e={key:0,class:"bg-white shadow dark:bg-zinc-700"},Ce={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Ve=v({setup(a){const s=w(!1),o=y(()=>N().props.value.auth.user);return(l,c)=>(i(),u("div",null,[e("div",te,[e("nav",se,[e("div",oe,[e("div",ne,[e("div",re,[e("div",ae,[n(t(L),{href:t(f)("dashboard")},{default:d(()=>[n(t(I),{class:"block h-9 w-auto text-zinc-700 dark:text-zinc-300"})]),_:1},8,["href"])]),e("div",ie,[n(Y,{href:t(f)("dashboard"),active:t(f)().current("dashboard")},{default:d(()=>[le]),_:1},8,["href","active"])])]),e("div",de,[e("div",ce,[n(W,{align:"right",width:"48"},{trigger:d(()=>[e("span",ue,[e("button",me,[x(V(t(o).name)+" ",1),fe])])]),content:d(()=>[n(X,{href:t(f)("logout"),method:"post",as:"button"},{default:d(()=>[he]),_:1},8,["href"])]),_:1})])]),e("div",pe,[e("button",{onClick:c[0]||(c[0]=r=>s.value=!s.value),class:"inline-flex items-center justify-center p-2 rounded-md text-zinc-300 hover:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700 focus:outline-none focus:bg-zinc-100 dark:focus:bg-zinc-700 focus:text-zinc-500 transition duration-150 ease-in-out"},[(i(),u("svg",ve,[e("path",{class:_({hidden:s.value,"inline-flex":!s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:_({hidden:!s.value,"inline-flex":s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:_([{block:s.value,hidden:!s.value},"sm:hidden"])},[e("div",_e,[n(E,{href:t(f)("dashboard"),active:t(f)().current("dashboard")},{default:d(()=>[be]),_:1},8,["href","active"])]),e("div",ge,[e("div",xe,[e("div",ke,V(t(o).name),1),e("div",ye,V(t(o).email),1)]),e("div",we,[n(E,{href:t(f)("logout"),method:"post",as:"button"},{default:d(()=>[ze]),_:1},8,["href"])])])],2)]),l.$slots.header?(i(),u("header",$e,[e("div",Ce,[b(l.$slots,"header")])])):z("",!0),e("main",null,[b(l.$slots,"default")])])]))}}),Le={class:"flex flex-col md:flex-row"},Me={class:"flex flex-col items-center m-4"},Se={class:"m-1"},Ue={class:"flex space-x-2 m-2"},je={key:0},Be=["onSubmit"],De={class:"mt-4"},Ee={class:"mt-4"},Ne=x("Update"),Fe=v({props:{link:null},setup(a){const{link:s}=a,o=w(!1),l=w(""),c=p=>{l.value=p.toDataURL()},r=F(s),m=()=>{r.put(f("link.update",{link:s}),{onFinish:()=>{o.value=!1,r.reset("name"),r.reset("url")}})},h=()=>{const p=document.createElement("a");p.href=l.value,p.download=`${s.name}.png`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},$=()=>{r.delete(f("link.destroy",{link:s}))};return(p,k)=>(i(),u("div",Le,[e("div",Me,[e("h2",Se,V(a.link.name),1),a.link.url?(i(),g(t(R),{key:0,onReady:c,value:a.link.url,class:"border-4 border-gray-600 rounded m-0 w-48"},null,8,["value"])):z("",!0),e("div",Ue,[e("button",{class:"bg-secondary-500 text-zinc-100 rounded p-2",onClick:k[0]||(k[0]=C=>o.value=!o.value)},[n(t(Z),{class:"h-5 w-5"})]),e("button",{class:"bg-primary-500 text-zinc-100 rounded p-2",onClick:h},[n(t(J),{class:"h-5 w-5"})]),e("button",{class:"bg-error-500 text-zinc-100 rounded p-2",onClick:$},[n(t(ee),{class:"h-5 w-5"})])])]),o.value?(i(),u("div",je,[e("form",{onSubmit:H(m,["prevent"])},[e("div",null,[n(M,{for:"name",value:"Name"}),n(B,{id:"name",type:"text",class:"mt-1",modelValue:t(r).name,"onUpdate:modelValue":k[1]||(k[1]=C=>t(r).name=C)},null,8,["modelValue"])]),e("div",De,[n(M,{for:"url",value:"URL"}),n(B,{id:"url",type:"text",class:"mt-1",modelValue:t(r).url,"onUpdate:modelValue":k[2]||(k[2]=C=>t(r).url=C)},null,8,["modelValue"])]),e("div",Ee,[n(q,{type:"submit",class:"bg-secondary-700 hover:bg-secondary-500"},{default:d(()=>[Ne]),_:1})])],40,Be)])):z("",!0)]))}}),He={class:"flex flex-col h-full items-center sm:p-6 lg:p-8 rounded p-4 space-y-3"},Re=e("h2",{class:"dark:text-zinc-200"},"Generate a QR Code",-1),qe={class:"flex flex-wrap space-x-2"},Oe=e("div",{class:"flex items-center"},[e("span",{class:"bg-primary-100 dark:bg-primary-700 text-zinc-900 dark:text-zinc-200 rounded p-2"},"https://")],-1),Te={class:"h-1/3"},Ae={key:0},Ge=["onSubmit"],Pe=x("Save"),Qe=v({setup(a){const s=w("");G(s,c=>{o.url=`${s.value===""?"":"https://"}`+c});const o=F({url:"",name:""}),l=()=>{o.post(f("link.store"),{onFinish:()=>{o.reset("name"),o.reset("url"),o.name="",s.value=""}})};return(c,r)=>(i(),u("div",He,[Re,e("div",qe,[Oe,n(D,{type:"text",modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m)},null,8,["modelValue"])]),e("div",Te,[t(o).url!=""?(i(),g(t(R),{key:0,value:t(o).url,class:"border-4 border-gray-600 rounded h-full m-0"},null,8,["value"])):z("",!0)]),t(o).url!=""?(i(),u("div",Ae,[e("form",{onSubmit:H(l,["prevent"])},[n(M,{for:"name",value:"Name"}),n(D,{id:"name",type:"text",modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=m=>t(o).name=m),required:""},null,8,["modelValue"]),n(q,{type:"submit",class:"bg-primary-700 hover:bg-primary-500 ml-2"},{default:d(()=>[Pe]),_:1})],40,Ge)])):z("",!0)]))}}),Ie=e("h2",{class:"font-semibold text-xl text-zinc-800 dark:text-zinc-100 leading-tight"}," Dashboard ",-1),Je={class:"py-12"},Ke={class:"max-w-7xl sm:px-6 lg:px-8 prose prose-zinc dark:prose-invert"},We={class:"bg-primary-50 dark:bg-primary-900 overflow-hidden shadow-sm sm:rounded-lg mb-4"},Xe={class:"bg-white dark:bg-zinc-900 overflow-hidden shadow-sm sm:rounded-lg"},Ye={class:"p-6 bg-secondary-50 dark:bg-secondary-900 border-b border-gray-200 dark:border-gray-800 flex flex-wrap justify-center sm:justify-around"},rt=v({setup(a){const s=y(()=>N().props.value.auth.user);return(o,l)=>(i(),u(j,null,[n(t(P),{title:"Dashboard"}),n(Ve,null,{header:d(()=>[Ie]),default:d(()=>[e("div",Je,[e("div",Ke,[e("div",We,[n(Qe)]),e("div",Xe,[e("div",Ye,[(i(!0),u(j,null,Q(t(s).links,c=>(i(),u("div",{key:c.id,class:"flex justify-center rounded-3xl p-4 m-4"},[n(Fe,{link:c},null,8,["link"])]))),128))])])])])]),_:1})],64))}});export{rt as default};
